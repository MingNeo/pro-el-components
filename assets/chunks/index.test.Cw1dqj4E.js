import{m as o}from"./vue-test-utils.esm-bundler.BNPP31t0.js";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang.iZRyf0GR.js";import{d as p,i,g as e}from"./vi.JYQecGiw.CsLlcVZs.js";import"./framework.igcgEEdr.js";/* empty css              */import"./commonjsHelpers.BosuxZz1.js";import"./vite-browser-external_commonjs-proxy.BC9WSf1a.js";p("PageWrapper 组件",()=>{i("应该正确渲染",()=>{const s=o(t,{props:{hasPermission:!0}});e(s.find(".pro-page-wrapper").exists()).toBe(!0)}),i("有权限时应该显示内容",()=>{const s=o(t,{props:{hasPermission:!0},slots:{default:'<div class="content">内容</div>'}});e(s.find(".pro-page-wrapper").exists()).toBe(!0),e(s.find(".content").exists()).toBe(!0)}),i("无权限时应该显示无权限提示",()=>{const s=o(t,{props:{hasPermission:!1}});e(s.find(".pro-no-permission").exists()).toBe(!0),e(s.text()).toContain("无权限访问")}),i("无权限时不应该显示主内容",()=>{const s=o(t,{props:{hasPermission:!1},slots:{default:'<div class="content">内容</div>'}});e(s.find(".pro-page-wrapper").exists()).toBe(!1),e(s.find(".content").exists()).toBe(!1)}),i("应该支持函数类型的 hasPermission",()=>{const r=o(t,{props:{hasPermission:()=>!0}});e(r.find(".pro-page-wrapper").exists()).toBe(!0)}),i("函数返回 false 时应该显示无权限提示",()=>{const r=o(t,{props:{hasPermission:()=>!1}});e(r.find(".pro-no-permission").exists()).toBe(!0)}),i("应该支持自定义无权限提示",()=>{const s=o(t,{props:{hasPermission:!1},slots:{noPermission:'<div class="custom-no-permission">自定义无权限提示</div>'}});e(s.find(".custom-no-permission").exists()).toBe(!0),e(s.text()).toContain("自定义无权限提示")}),i("应该渲染默认插槽内容",()=>{const s=o(t,{props:{hasPermission:!0},slots:{default:'<div class="page-content">页面内容</div>'}});e(s.find(".page-content").exists()).toBe(!0),e(s.find(".page-content").text()).toBe("页面内容")}),i("权限变化应该正确响应",async()=>{const s=o(t,{props:{hasPermission:!0},slots:{default:'<div class="content">内容</div>'}});e(s.find(".pro-page-wrapper").exists()).toBe(!0),await s.setProps({hasPermission:!1}),e(s.find(".pro-page-wrapper").exists()).toBe(!1),e(s.find(".pro-no-permission").exists()).toBe(!0)}),i("支持复杂的权限判断逻辑",()=>{const s="admin",n=o(t,{props:{hasPermission:()=>s==="admin"}});e(n.find(".pro-page-wrapper").exists()).toBe(!0)}),i("hasPermission 默认值应该为 true",()=>{const s=o(t,{props:{hasPermission:void 0}});e(s.vm.hasPermission).toBe(!0)}),i("应该支持嵌套内容",()=>{const s=o(t,{props:{hasPermission:!0},slots:{default:`
          <div class="section-1">Section 1</div>
          <div class="section-2">Section 2</div>
        `}});e(s.find(".section-1").exists()).toBe(!0),e(s.find(".section-2").exists()).toBe(!0)})});

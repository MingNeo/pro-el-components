import{m as a}from"./vue-test-utils.esm-bundler.BNPP31t0.js";import"./base.Dwgz6jSd.js";/* empty css                 *//* empty css                       */import{_ as p}from"./index.vue_vue_type_script_setup_true_lang.D98OUrhU.js";import{d as u,i as r,g as t,v as d}from"./vi.JYQecGiw.CsLlcVZs.js";import{a as m,b as l}from"./index.RVi9Xofb.js";import{P as n}from"./framework.igcgEEdr.js";import"./commonjsHelpers.BosuxZz1.js";import"./vite-browser-external_commonjs-proxy.BC9WSf1a.js";import"./index.mDR6Kexr.js";import"./isSymbol.C7jn4vLP.js";import"./isObject.C3e4t58V.js";import"./event.BB_Ol6Sd.js";import"./types.DNi1ojkw.js";import"./use-form-common-props.BIymRJo1.js";import"./index.DBJOzW_o.js";import"./index.BI4o4ewH.js";import"./arrayPush.CXZMwWBu.js";import"./use-form-item.Daeosa58.js";import"./error.Cq9Fpw4b.js";u("proRadio 组件",()=>{const i=[{label:"选项1",value:1},{label:"选项2",value:2},{label:"选项3",value:3}];r("应该正确渲染单选按钮组",()=>{const o=a(p,{props:{options:i}});t(o.findComponent(m).exists()).toBe(!0)}),r("应该正确渲染所有选项",async()=>{const o=a(p,{props:{options:i}});await n();const e=o.findAllComponents(l);t(e).toHaveLength(3),t(e[0].props("label")).toBe("选项1"),t(e[0].props("value")).toBe(1)}),r("应该正确处理双向绑定",async()=>{const o=a(p,{props:{options:i,modelValue:1}});await n();const e=o.findComponent(m);t(e.props("modelValue")).toBe(1),await o.setProps({modelValue:2}),t(e.props("modelValue")).toBe(2)}),r("应该正确处理禁用选项",async()=>{const e=a(p,{props:{options:[{label:"选项1",value:1,disabled:!1},{label:"选项2",value:2,disabled:!0},{label:"选项3",value:3,disabled:!1}]}});await n();const s=e.findAllComponents(l);t(s[1].props("disabled")).toBe(!0)}),r("应该在查看模式下显示文本",async()=>{const o=a(p,{props:{options:i,modelValue:1,viewMode:!0}});await n(),t(o.findComponent(m).exists()).toBe(!1),t(o.text()).not.toBe("")}),r("应该正确处理空值",async()=>{const o=a(p,{props:{options:i,viewMode:!0}});await n(),t(o.text()).toBe("-")}),r("应该正确加载远程数据",async()=>{const o=d.fn().mockResolvedValue(i),e=a(p,{props:{service:o}});await new Promise(c=>setTimeout(c,10)),t(o).toHaveBeenCalled(),await n();const s=e.findAllComponents(l);t(s).toHaveLength(3)}),r("应该支持自定义字段名",async()=>{const e=a(p,{props:{options:[{name:"选项1",id:1},{name:"选项2",id:2}],optionNames:{label:"name",value:"id"}}});await n();const s=e.findAllComponents(l);t(s[0].props("label")).toBe("选项1"),t(s[0].props("value")).toBe(1)}),r("应该正确处理加载错误",async()=>{const o=d.fn().mockRejectedValue(new Error("加载失败")),e=d.spyOn(console,"warn").mockImplementation(()=>{});a(p,{props:{service:o}}),await new Promise(s=>setTimeout(s,10)),t(e).toHaveBeenCalled(),e.mockRestore()}),r("应该响应选项更新",async()=>{const o=a(p,{props:{options:i}});await n();let e=o.findAllComponents(l);t(e).toHaveLength(3);const s=[{label:"新选项1",value:4},{label:"新选项2",value:5}];await o.setProps({options:s}),e=o.findAllComponents(l),t(e).toHaveLength(2),t(e[0].props("label")).toBe("新选项1")}),r("应该支持自定义 Radio props",async()=>{const o=a(p,{props:{options:i,radioProps:{size:"large"}}});await n(),o.findAllComponents(l).forEach(s=>{t(s.props("size")).toBe("large")})}),r("应该正确透传属性到 ElRadioGroup",()=>{const e=a(p,{props:{options:i,size:"large",disabled:!0}}).findComponent(m);t(e.vm.size).toBe("large"),t(e.vm.disabled).toBeDefined()})});

import{m as i}from"./vue-test-utils.esm-bundler.BNPP31t0.js";import{_ as e}from"./index.vue_vue_type_script_setup_true_lang.Bb7_ZJgo.js";import{d,i as m,g as o}from"./vi.JYQecGiw.CsLlcVZs.js";import"./framework.igcgEEdr.js";/* empty css              *//* empty css              *//* empty css              */import"./index.vue_vue_type_script_setup_true_lang.DWb0jxax.js";import"./index.BQOwn3WU.js";import"./base.Dwgz6jSd.js";/* empty css              *//* empty css                       *//* empty css              */import"./icon.C3T6eoYR.js";import"./types.DNi1ojkw.js";import"./index.mDR6Kexr.js";import"./isSymbol.C7jn4vLP.js";import"./isObject.C3e4t58V.js";import"./index.vue_vue_type_script_setup_true_lang.CR4Q-k9N.js";import"./el-button.k3Ms4Xdh.js";import"./index.DBJOzW_o.js";import"./use-global-config.CrFx92Tt.js";import"./index.CRCbWsfX.js";import"./index.BjB1lFfg.js";import"./use-form-item.Daeosa58.js";import"./use-form-common-props.BIymRJo1.js";/* empty css                    */import"./el-popper.CZJRST1P.js";import"./index.BI4o4ewH.js";import"./arrayPush.CXZMwWBu.js";import"./index.Brw29sq5.js";import"./aria.9SHySdGF.js";import"./index.D353ODTN.js";import"./el-scrollbar.HZhNcw01.js";import"./error.Cq9Fpw4b.js";/* empty css                   */import"./Action.vue_vue_type_script_setup_true_lang.maaIIJkR.js";import"./index.CKIxfO9Z.js";import"./castArray.nshRf-Q-.js";import"./refs.n9wIXTtR.js";import"./index.RVi9Xofb.js";import"./event.BB_Ol6Sd.js";import"./index.vue_vue_type_script_setup_true_lang.B7tWRN4N.js";/* empty css                     */import"./buttons.vue_vue_type_script_setup_true_lang.BvWP4u-7.js";import"./index.vue_vue_type_script_setup_true_lang.Cm45yPGm.js";import"./el-tooltip.l0sNRNKZ.js";import"./FieldWrapper.vue_vue_type_script_setup_true_lang.BQIeAx6E.js";/* empty css               */import"./typescript.Bp3YSIOJ.js";import"./constants.0YSy3Igo.js";import"./helper.DcuHLwUz.js";import"./dayjs.min.Ba62AOpW.js";import"./commonjsHelpers.BosuxZz1.js";import"./useFieldWatch.CAezyHFE.js";import"./Wrapper.vue_vue_type_script_setup_true_lang.CPkOFA02.js";/* empty css               */import"./index.DbWT0aQr.js";import"./baseClone.p2iRr-IY.js";import"./isEqual.DkZuJHVE.js";import"./initCloneObject.BLfUkf_9.js";import"./index.vue_vue_type_script_setup_true_lang.CgsMylzL.js";import"./el-input.DQ30HcuH.js";import"./index.8K3Om35h.js";import"./index.BndPLsPe.js";/* empty css                        *//* empty css                  */import"./el-tag.BDcJ6G_i.js";import"./el-select.D9tonctu.js";import"./scroll.DxJqq-ED.js";import"./debounce.BwFge-ki.js";import"./el-checkbox.B0vmRW9S.js";/* empty css                    */import"./index.vue_vue_type_script_setup_true_lang.BT-Ywz00.js";/* empty css                   *//* empty css              */import"./index.SQqbOIf2.js";import"./cloneDeep.DdLfN6Fq.js";import"./index.BsakEZKL.js";import"./index.vue_vue_type_script_setup_true_lang.32sqq2C1.js";/* empty css                          *//* empty css                 */import"./index.vue_vue_type_script_setup_true_lang.BVOXUtzn.js";/* empty css                          *//* empty css                   *//* empty css              *//* empty css                *//* empty css              *//* empty css              *//* empty css              */import"./index.vue_vue_type_script_setup_true_lang.D98OUrhU.js";import"./index.vue_vue_type_script_setup_true_lang.CdsKtYT4.js";/* empty css              *//* empty css              *//* empty css              */import"./el-table-column.BBssXNKa.js";/* empty css                                                      *//* empty css              */import"./index.CemNZkGQ.js";import"./index.CaFP4xeD.js";import"./baseUniq.CpJglj-j.js";import"./index.vue_vue_type_script_setup_true_lang.DgUHcPJC.js";import"./index.vue_vue_type_script_setup_true_lang.CRYnw7sj.js";import"./index.WNI6fmhU.js";import"./index.BTYb9I48.js";import"./ColumnSetting.vue_vue_type_script_setup_true_lang.BO9cYbPa.js";import"./helper.AYP33an4.js";import"./index.DYDoBdSP.js";import"./index.vue_vue_type_script_setup_true_lang.CWXAaeVB.js";import"./vite-browser-external_commonjs-proxy.BC9WSf1a.js";d("listPage 组件",()=>{const r=[{prop:"id",label:"ID"},{prop:"name",label:"名称"}],p=[{id:1,name:"测试1"},{id:2,name:"测试2"}];m("应该正确渲染",()=>{const t=i(e,{props:{columns:r,data:p}});o(t.find(".pro-list-page").exists()).toBe(!0)}),m("应该正确渲染标题",()=>{const t=i(e,{props:{title:"测试页面",showHeader:!0,columns:r,data:p}});o(t.find(".pro-list-page-header").exists()).toBe(!0)}),m("showHeader 为 false 时不应该显示页面头部",()=>{const t=i(e,{props:{showHeader:!1,columns:r,data:p}});o(t.find(".pro-list-page-header").exists()).toBe(!1)}),m("应该正确渲染搜索表单",()=>{const t=i(e,{props:{columns:r,data:p,searchForm:{fields:[{name:"keyword",label:"关键词",type:"input"}]}}});o(t.find(".pro-list-page-search").exists()).toBe(!0)}),m("没有 searchFields 时不应该显示搜索表单",()=>{const t=i(e,{props:{columns:r,data:p}});o(t.find(".pro-list-page-search").exists()).toBe(!1)}),m("应该正确触发搜索事件",async()=>{const t=i(e,{props:{columns:r,data:p,searchForm:{fields:[{name:"keyword",label:"关键词",type:"input"}]}}}),a={keyword:"test"};await t.vm.handleSearch(a),o(t.emitted("search")).toBeTruthy(),o(t.emitted("search")[0]).toEqual([a])}),m("应该正确触发重置事件",async()=>{const t=i(e,{props:{columns:r,data:p,searchForm:{fields:[{name:"keyword",label:"关键词",type:"input"}]}}});await t.vm.handleReset(),o(t.emitted("reset")).toBeTruthy()}),m("应该正确触发表格变化事件",async()=>{const t=i(e,{props:{columns:r,data:p}}),a={currentPage:2,pageSize:10},s={},n={prop:"id",order:"ascending"};await t.vm.handleTableChange(a,s,n),o(t.emitted("tableChange")).toBeTruthy(),o(t.emitted("tableChange")[0]).toEqual([a,s,n])}),m("应该正确渲染操作按钮",()=>{const t=i(e,{props:{columns:r,data:p,actions:[{text:"新增",type:"primary"}]}});o(t.find(".pro-list-page-table__header").exists()).toBe(!0)}),m("应该正确处理 headerActions",()=>{const t=i(e,{props:{title:"测试页面",showHeader:!0,columns:r,data:p,headerActions:[{text:"返回",type:"default"}]}});o(t.find(".pro-list-page-header").exists()).toBe(!0)}),m("应该支持自定义插槽",()=>{const t=i(e,{props:{columns:r,data:p},slots:{default:'<div class="custom-content">自定义内容</div>'}});o(t.find(".custom-content").exists()).toBe(!0),o(t.find(".custom-content").text()).toBe("自定义内容")}),m("应该在 provide 中提供 isInListPage",()=>{const t=i(e,{props:{columns:r,data:p}});o(t.vm).toBeDefined()})});

import{D as h,p as c}from"./framework.CCndWvNN.js";function o(m,e={immediate:!0,shallow:!0}){const s=e.shallow?h():c(),t=c(!1),f=c(!1),u=h(),n=l=>{f.value=l,t.value=!l},d=async(...l)=>(u.value=void 0,n(!0),new Promise((v,i)=>m(...l).then(a=>{var r;s.value=a,(r=e.onSuccess)==null||r.call(e,a),v(a)}).catch(a=>{var r;u.value=a,(r=e.onError)==null||r.call(e,a),i(a)}).finally(()=>n(!1))));return e.immediate&&d().then(void 0,console.error),{data:s,error:u,isFinished:t,isLoading:f,execute:d}}export{o as useRequest};

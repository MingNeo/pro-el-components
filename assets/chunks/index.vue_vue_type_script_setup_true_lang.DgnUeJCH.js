import{d as l}from"./dayjs.min.Ba62AOpW.js";import"./base.D1hT_OMg.js";import{n as T,v as R,w as U,j as w,E as _,c as u,i as B,d as H,P as A}from"./pro-el-components.es.D2RWaTV6.js";import{E as c}from"./el-input.BSgJ4dcH.js";import"./el-button.Ks_KV28J.js";import"./el-scrollbar.D7CKjqK8.js";import"./el-popper.DVtARkBh.js";import"./el-image-viewer.Dja78u7m.js";import{E as M}from"./el-progress.BRIRdYmT.js";import{E as g}from"./index.Dgm8fwEb.js";import{d as C,p as F,q as I,h as Y,c as x,b as h,o as i,a1 as j,K as E,H as V,t as L,F as S}from"./framework.CCndWvNN.js";const $={key:1,class:"pro-field-view"},ee=C({name:"ProField",__name:"index",props:{modelValue:{},valueType:{},fieldProps:{},viewMode:{type:Boolean}},emits:["update:modelValue","change"],setup(k,{emit:b}){const e=k,m=b,o=F(e.modelValue);I(()=>e.modelValue,t=>{o.value=t});const f=Y(()=>{var t;switch(e.valueType){case"input":return{component:c,props:e.fieldProps};case"number":return{component:H,props:e.fieldProps};case"password":return{component:c,props:{type:"password",showPassword:!0,...e.fieldProps}};case"textarea":return{component:c,props:{type:"textarea",...e.fieldProps}};case"select":return{component:B,props:e.fieldProps};case"date":return{component:u,props:{type:"date",...e.fieldProps}};case"dateTime":return{component:u,props:{type:"datetime",...e.fieldProps}};case"dateRange":return{component:u,props:{type:"daterange",...e.fieldProps}};case"dateTimeRange":return{component:u,props:{type:"datetimerange",...e.fieldProps}};case"switch":return{component:_,props:e.fieldProps};case"rate":return{component:w,props:{...e.fieldProps,disabled:!!e.viewMode||((t=e.fieldProps)==null?void 0:t.disabled)}};case"radio":return{component:U,props:e.fieldProps};case"checkbox":return{component:R,props:e.fieldProps};case"color":return{component:T,props:e.fieldProps};case"image":return{component:g,props:{src:o.value,...e.fieldProps}};case"file":return{component:M,props:{fileList:o.value,...e.fieldProps}};default:return{component:"div",props:e.fieldProps}}});function a(t){m("update:modelValue",t),m("change",t)}const s=Y(()=>{var r,n,v,y;if(!e.viewMode)return{};const t=!!e.viewMode||((r=e.fieldProps)==null?void 0:r.disabled);switch(e.valueType){case"password":return{value:"******",type:"text"};case"date":return{value:o.value?l(o.value).format("YYYY-MM-DD"):"-",type:"text"};case"dateTime":return{value:o.value?l(o.value).format("YYYY-MM-DD HH:mm:ss"):"-",type:"text"};case"dateRange":case"dateTimeRange":if(Array.isArray(o.value)&&o.value.length===2){const p=e.valueType==="dateRange"?"YYYY-MM-DD":"YYYY-MM-DD HH:mm:ss";return{value:`${l(o.value[0]).format(p)} 至 ${l(o.value[1]).format(p)}`,type:"text"}}return{value:"-",type:"text"};case"switch":return{value:o.value?"是":"否",type:"text"};case"select":case"radio":case"checkbox":{if(!((n=e.fieldProps)!=null&&n.options))return{value:"-",type:"text"};const p=((v=e.fieldProps)==null?void 0:v.options)||[];return Array.isArray(o.value)?{value:o.value.map(d=>{var P;return(P=p.find(D=>D.value===d))==null?void 0:P.label}).filter(Boolean).join("、")||"-",type:"text"}:{value:((y=p.find(d=>d.value===o.value))==null?void 0:y.label)||"-",type:"text"}}case"rate":return{type:"component",component:w,props:{modelValue:o.value||"-",onUpdateModelValue:a,...e.fieldProps,disabled:t}};case"cascader":return{type:"component",component:A,props:{viewMode:!0,modelValue:o.value||"-",onUpdateModelValue:a,...e.fieldProps,disabled:t}};case"image":return{type:"component",component:g,props:{src:o.value,onUpdateModelValue:a,...e.fieldProps}};case"file":return{type:"component",component:M,props:{viewMode:!0,fileList:o.value,...e.fieldProps,disabled:t,onUpdateFileList:a}};default:return{value:o.value||"-",type:"text"}}});return(t,r)=>t.viewMode?(i(),x(S,{key:0},[s.value.type==="component"?(i(),h(V(s.value.component),j(E({key:0},s.value.props)),null,16)):(i(),x("span",$,L(s.value.value),1))],64)):(i(),h(V(f.value.component),E({key:1},f.value.props,{modelValue:o.value,"onUpdate:modelValue":[r[0]||(r[0]=n=>o.value=n),a]}),null,16,["modelValue"]))}});export{ee as _};

import{p as l,q as p,v as u,Y as f}from"./framework.igcgEEdr.js";function v(d,r={}){const{immediate:g=!0}=r,t=l(d),i=typeof window<"u"?window.location.pathname:"",a=`page_storage_${r.key||i.replace(/^\//,"_")}`,s=e=>{const o={timestamp:Date.now(),data:e};try{sessionStorage.setItem(a,JSON.stringify(o))}catch(m){console.error("Failed to save page storage:",m)}},n=()=>{try{const e=sessionStorage.getItem(a);if(!e)return;const{data:o}=JSON.parse(e);t.value=o}catch(e){console.error("Failed to load page storage:",e)}},c=()=>{sessionStorage.removeItem(a)};return p(()=>t.value,e=>{s(e)},{deep:!0}),u(()=>{g&&n()}),f(()=>{c()}),{data:t,clear:c,save:s,load:n}}export{v as usePageStorage};

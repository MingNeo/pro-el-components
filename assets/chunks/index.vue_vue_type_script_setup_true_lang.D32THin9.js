import"./base.BdmgHdsK.js";import{E as V}from"./el-overlay.BqfQhs6e.js";import{x as b,t as h}from"./pro-el-components.es.BbdLL6xm.js";import{d as w,q as B,b as D,o as $,ai as y,B as S,w as r,r as s,a1 as k,aj as C,a2 as E,ao as _,k as o,G as j,K as n}from"./framework.C7SOrqHQ.js";const K=w({name:"ProTableModal",__name:"index",props:{modelValue:{type:Boolean},title:{},data:{},service:{type:Function},columns:{},pagination:{},dialogProps:{},tableProps:{}},emits:["update:modelValue"],setup(d,{emit:m}){const e=d,p=m,{data:u,search:c,loading:g,pagination:f}=b(e.service||(async(...a)=>[]),{immediate:!1});return B(()=>e.modelValue,(a,t)=>{e.service&&!e.data&&a&&!t&&c.onSubmit()}),(a,t)=>{const v=_("loading");return $(),D(o(V),n({"model-value":a.modelValue,title:e.title,footer:!1,"destroy-on-close":"",width:"700px"},a.dialogProps,{"onUpdate:modelValue":t[0]||(t[0]=l=>p("update:modelValue",l))}),y({default:r(()=>[s(a.$slots,"pre"),E(j(o(h),n({columns:a.columns,pagination:e.pagination??o(f),data:e.data??o(u),class:"pro-table-modal","column-setting":!1},a.tableProps),null,16,["columns","pagination","data"]),[[v,o(g)]]),s(a.$slots,"after")]),_:2},[S(a.$slots,(l,i)=>({name:i,fn:r(P=>[s(a.$slots,i,k(C(P||{})))])}))]),1040,["model-value","title"])}}});export{K as _};

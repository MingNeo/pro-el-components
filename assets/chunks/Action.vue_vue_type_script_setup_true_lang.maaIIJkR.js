import{b as $,u as I,_ as z,w as A}from"./base.Dwgz6jSd.js";import{b as P,E as T}from"./el-button.k3Ms4Xdh.js";/* empty css                   */import{u as S,E as V}from"./el-popper.CZJRST1P.js";import{i as F,b as q,E as D}from"./icon.C3T6eoYR.js";import{q as M}from"./index.BQOwn3WU.js";import{u as R}from"./index.BjB1lFfg.js";import{d as _,p as j,h as B,b as l,o as c,w as i,r as w,e as N,j as g,n as y,k as t,a as p,N as G,H,t as f,G as C,K as h}from"./framework.igcgEEdr.js";const K=$({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:P,default:"primary"},cancelButtonType:{type:String,values:P,default:"text"},icon:{type:F,default:()=>M},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:S.teleported,persistent:S.persistent,width:{type:[String,Number],default:150}}),L={confirm:a=>a instanceof MouseEvent,cancel:a=>a instanceof MouseEvent},U=_({name:"ElPopconfirm"}),J=_({...U,props:K,emits:L,setup(a,{emit:u}){const o=a,{t:r}=R(),n=I("popconfirm"),m=j(),s=()=>{var e,k;(k=(e=m.value)==null?void 0:e.onClose)==null||k.call(e)},d=B(()=>({width:q(o.width)})),b=e=>{u("confirm",e),s()},v=e=>{u("cancel",e),s()},x=B(()=>o.confirmButtonText||r("el.popconfirm.confirmButtonText")),E=B(()=>o.cancelButtonText||r("el.popconfirm.cancelButtonText"));return(e,k)=>(c(),l(t(V),h({ref_key:"tooltipRef",ref:m,trigger:"click",effect:"light"},e.$attrs,{"popper-class":`${t(n).namespace.value}-popover`,"popper-style":t(d),teleported:e.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":e.hideAfter,persistent:e.persistent}),{content:i(()=>[g("div",{class:y(t(n).b())},[g("div",{class:y(t(n).e("main"))},[!e.hideIcon&&e.icon?(c(),l(t(D),{key:0,class:y(t(n).e("icon")),style:G({color:e.iconColor})},{default:i(()=>[(c(),l(H(e.icon)))]),_:1},8,["class","style"])):N("v-if",!0),p(" "+f(e.title),1)],2),g("div",{class:y(t(n).e("action"))},[w(e.$slots,"actions",{confirm:b,cancel:v},()=>[C(t(T),{size:"small",type:e.cancelButtonType==="text"?"":e.cancelButtonType,text:e.cancelButtonType==="text",onClick:v},{default:i(()=>[p(f(t(E)),1)]),_:1},8,["type","text"]),C(t(T),{size:"small",type:e.confirmButtonType==="text"?"":e.confirmButtonType,text:e.confirmButtonType==="text",onClick:b},{default:i(()=>[p(f(t(x)),1)]),_:1},8,["type","text"])])],2)],2)]),default:i(()=>[e.$slots.reference?w(e.$slots,"reference",{key:0}):N("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var O=z(J,[["__file","popconfirm.vue"]]);const Q=A(O),se=_({name:"ProButtonAction",inheritAttrs:!1,__name:"Action",props:{text:{},icon:{},onClick:{type:Function},show:{type:[Boolean,Function]},disabled:{type:[Boolean,Function]},danger:{type:Boolean},confirm:{type:Boolean},confirmText:{},permission:{},type:{},size:{},nativeType:{},loading:{type:Boolean},loadingIcon:{},plain:{type:Boolean},link:{type:Boolean},bg:{type:Boolean},autofocus:{type:Boolean},round:{type:Boolean},circle:{type:Boolean},color:{},dark:{type:Boolean},autoInsertSpace:{type:Boolean},tag:{}},emits:["click"],setup(a,{emit:u}){const o=a,r=u,n=B(()=>{const{confirm:m,text:s,permission:d,show:b,danger:v,confirmText:x,onClick:E,...e}=o;return e});return(m,s)=>o.confirm?(c(),l(t(Q),{key:0,disabled:o.disabled,title:o.confirmText||"确认执行此操作?","confirm-button-text":"是","cancel-button-text":"否",onConfirm:s[0]||(s[0]=d=>r("click",o))},{reference:i(()=>[C(t(T),h({class:"button-action"},n.value),{default:i(()=>[p(f(o.text),1)]),_:1},16)]),_:1},8,["disabled","title"])):(c(),l(t(T),h({key:1,class:"button-action"},n.value,{onClick:s[1]||(s[1]=d=>o.disabled||r("click",o))}),{default:i(()=>[p(f(o.text),1)]),_:1},16))}});export{Q as E,se as _};

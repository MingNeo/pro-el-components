import{q as b,ab as f,a9 as g,a7 as C,S as O,p as D,ac as T,v as j,P as W,a5 as F,aa as L,L as M,ad as _,ae as E,h as I,a8 as w,k as V,af as G}from"./framework.CCndWvNN.js";function Q(e){return _()?(E(e),!0):!1}const m=new WeakMap,U=(...e)=>{var n;const r=e[0],t=(n=F())==null?void 0:n.proxy;if(t==null&&!L())throw new Error("injectLocal must be called in setup");return t&&m.has(t)&&r in m.get(t)?m.get(t)[r]:M(...e)};function K(e){if(!f(e))return w(e);const n=new Proxy({},{get(r,t,a){return V(Reflect.get(e.value,t,a))},set(r,t,a){return f(e.value[t])&&!f(a)?e.value[t].value=a:e.value[t]=a,!0},deleteProperty(r,t){return Reflect.deleteProperty(e.value,t)},has(r,t){return Reflect.has(e.value,t)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return w(n)}function N(e){return K(I(e))}const X=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const R=Object.prototype.toString,Y=e=>R.call(e)==="[object Object]",v=()=>{};function P(...e){if(e.length!==1)return C(...e);const n=e[0];return typeof n=="function"?O(T(()=>({get:n,set:v}))):D(n)}function Z(e,...n){const r=n.flat(),t=r[0];return N(()=>Object.fromEntries(typeof t=="function"?Object.entries(G(e)).filter(([a,i])=>t(g(i),a)):r.map(a=>[a,P(e,a)])))}function S(e,n){function r(...t){return new Promise((a,i)=>{Promise.resolve(e(()=>n.apply(this,t),{fn:n,thisArg:this,args:t})).then(a).catch(i)})}return r}const k=e=>e();function q(...e){let n=0,r,t=!0,a=v,i,o,s,u,c;!f(e[0])&&typeof e[0]=="object"?{delay:o,trailing:s=!0,leading:u=!0,rejectOnCancel:c=!1}=e[0]:[o,s=!0,u=!0,c=!1]=e;const p=()=>{r&&(clearTimeout(r),r=void 0,a(),a=v)};return x=>{const l=g(o),y=Date.now()-n,d=()=>i=x();return p(),l<=0?(n=Date.now(),d()):(y>l&&(u||!t)?(n=Date.now(),d()):s&&(i=new Promise((h,A)=>{a=c?A:h,r=setTimeout(()=>{n=Date.now(),t=!0,h(d()),p()},Math.max(0,l-y))})),!u&&!r&&(r=setTimeout(()=>t=!0,l)),t=!1,i)}}function $(e=k,n={}){const{initialState:r="active"}=n,t=P(r==="active");function a(){t.value=!1}function i(){t.value=!0}const o=(...s)=>{t.value&&e(...s)};return{isActive:O(t),pause:a,resume:i,eventFilter:o}}function ee(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function te(e){return Array.isArray(e)?e:[e]}function z(e){return F()}function ne(e,n=200,r=!1,t=!0,a=!1){return S(q(n,r,t,a),e)}function B(e,n,r={}){const{eventFilter:t=k,...a}=r;return b(e,S(t,n),a)}function re(e,n,r={}){const{eventFilter:t,initialState:a="active",...i}=r,{eventFilter:o,pause:s,resume:u,isActive:c}=$(t,{initialState:a});return{stop:B(e,n,{...i,eventFilter:o}),pause:s,resume:u,isActive:c}}function ae(e,n=!0,r){z()?j(e,r):n?e():W(e)}function ie(e,n,r){return b(e,n,{...r,immediate:!0})}export{P as a,ae as b,X as c,re as d,U as e,Q as f,Y as i,ee as p,Z as r,te as t,ne as u,ie as w};

import"./base.BdmgHdsK.js";import{E as C}from"./el-radio.DRdcRBUq.js";import"./el-input.CeBPwPDU.js";import"./el-popper.BuQPBkTD.js";import"./el-tag.bXv_BIuD.js";import"./el-checkbox.BNYvkwwK.js";import"./el-scrollbar.DH4X1zpC.js";import{d as P,p as S,h as _,v as A,c as B,b as N,o as h,t as E,K as M,k as j}from"./framework.C7SOrqHQ.js";const O={key:0},F=P({name:"ProCascader",__name:"index",props:{modelValue:{},service:{},viewMode:{type:Boolean},props:{default:()=>({})},options:{default:()=>[]}},emits:["update:modelValue","change"],setup(g,{emit:y}){const t=g,l=y,{label:v="label",value:i="value",children:a="children",multiple:V}=t.props,u=S([]),c=_(()=>[...t.options,...u.value]);function p(e){return Array.isArray(e)?e[e.length-1]:e}function k(e){const o=V?e.map(p):p(e);l("update:modelValue",o),l("change",o,e)}async function w(){var e;try{const o=await((e=t.service)==null?void 0:e.call(t))??[];u.value=d(o)}catch(o){console.error("加载级联选择器数据失败:",o)}}function d(e){return e.map(o=>{const n={...o,[i]:String(o[i])};return o[a]&&(n[a]=d(o[a])),n})}function m(e,o,n=[]){for(const r of e){const s=[...n,r];if(String(r[i])===String(o))return s;if(r[a]){const f=m(r[a],o,s);if(f)return f}}return null}function b(e){return(Array.isArray(e)?e:[e]).map(n=>{if(!n)return"-无-";const r=m(c.value,String(n));return r?r.map(s=>s[v]).join("-"):"-无-"}).filter(n=>n!=="-无-")}return A(w),(e,o)=>e.viewMode?(h(),B("span",O,E(b(e.modelValue).join(", ")||"-无-"),1)):(h(),N(j(C),M({key:1},e.$attrs,{"model-value":e.modelValue,options:c.value,props:t.props,"dropdown-class-name":"pro-cascader-dropdown",onChange:k}),null,16,["model-value","options","props"]))}});export{F as _};

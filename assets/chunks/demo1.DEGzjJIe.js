import"./base.Dwgz6jSd.js";import{E as a}from"./el-button.k3Ms4Xdh.js";import{E as V}from"./el-input.DQ30HcuH.js";import{useStreamData as w}from"./index.DwlufWgz.js";import{d as B,p as C,c as i,o as s,j as n,G as l,a2 as b,k as e,aa as D,b as N,w as m,a as p,t as d,_ as I}from"./framework.igcgEEdr.js";import"./icon.C3T6eoYR.js";import"./types.DNi1ojkw.js";import"./index.mDR6Kexr.js";import"./isSymbol.C7jn4vLP.js";import"./isObject.C3e4t58V.js";import"./index.BQOwn3WU.js";import"./index.DBJOzW_o.js";import"./use-global-config.CrFx92Tt.js";import"./index.CRCbWsfX.js";import"./index.BjB1lFfg.js";import"./use-form-item.Daeosa58.js";import"./use-form-common-props.BIymRJo1.js";import"./index.D353ODTN.js";import"./typescript.Bp3YSIOJ.js";import"./index.BI4o4ewH.js";import"./arrayPush.CXZMwWBu.js";import"./event.BB_Ol6Sd.js";import"./index.8K3Om35h.js";import"./index.BndPLsPe.js";import"./error.Cq9Fpw4b.js";import"./fetch-event-source.cpGEww5t.js";/* empty css                   */import"./index.BD-RLF64.js";import"./aria.9SHySdGF.js";import"./v4.C6aID195.js";const R={class:"stream-demo"},j={class:"controls"},F={class:"status"},G={class:"content"},M={key:0,class:"error"},T={key:1,class:"stream-content"},U=B({__name:"demo1",setup(q){const r=C(""),{status:_,content:f,error:c,isStreaming:u,start:v,stop:g,reset:k}=w({url:"/stream",formatResponse:o=>{var t;return((t=o==null?void 0:o.data)==null?void 0:t.result)||""},onStart:()=>{console.log("开始接收流数据")},onMessage:o=>{console.log("收到新消息:",o)},onFinish:()=>{console.log("接收完成")},onError:o=>{console.error("发生错误:",o)}});async function h(){try{await v(r.value)}catch(o){console.error("启动失败:",o)}}function y(){g()}function S(){r.value="",k()}return(o,t)=>{const x=D("loading");return s(),i("div",R,[n("div",j,[l(e(V),{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=E=>r.value=E),placeholder:"输入消息",style:{width:"200px"}},null,8,["modelValue"]),b((s(),N(e(a),{type:"primary",onClick:h},{default:m(()=>t[1]||(t[1]=[p(" 开始接收 ")])),_:1})),[[x,e(u)]]),l(e(a),{disabled:!e(u),onClick:y},{default:m(()=>t[2]||(t[2]=[p(" 停止 ")])),_:1},8,["disabled"]),l(e(a),{onClick:S},{default:m(()=>t[3]||(t[3]=[p(" 重置 ")])),_:1})]),n("div",F," 当前状态: "+d(e(_)),1),n("div",G,[e(c)?(s(),i("div",M," 错误: "+d(e(c).message),1)):(s(),i("div",T,d(e(f)||"等待接收数据..."),1))])])}}}),vt=I(U,[["__scopeId","data-v-08238b5a"]]);export{vt as default};

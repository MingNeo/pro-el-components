import{m as d}from"./vue-test-utils.esm-bundler.CoRJjSZk.js";import{r as g}from"./index.Cm6lYq2D.js";import{useForwardProps as c}from"./index.CoUaheeT.js";import{d as u,i as s,g as r}from"./vi.JYQecGiw.DzZoJzDr.js";import{d as m,h as S,q as w}from"./framework.C7SOrqHQ.js";import"./commonjsHelpers.BosuxZz1.js";import"./vite-browser-external_commonjs-proxy.BC9WSf1a.js";function a(e,t={computed:!1}){return m({props:e,emits:["log"],setup(o,{emit:p}){const n=t.computed?S(()=>({...Object.assign({},o)})):o,i=c(n);return w(i,()=>p("log",i.value),{immediate:!0,deep:!0}),{forwarded:i}},template:"<div>{{ forwarded }}</div>"})}u("useForwardProps",()=>{s("should forward nothing as no props provided",()=>{var t;const e=d(a({id:String}));r((t=e.emitted("log"))==null?void 0:t[0][0]).toStrictEqual({})}),s("should forward default props",()=>{var t;const e=d(a({id:{type:String,default:"test"}}));r((t=e.emitted("log"))==null?void 0:t[0][0]).toStrictEqual({id:"test"})}),s("should forward provided props instead of default",()=>{var o;const e={id:"new-test",number:0,enabled:!1},t=d(a({id:{type:String,default:"test"},number:Number,enabled:Boolean}),{props:e});r((o=t.emitted("log"))==null?void 0:o[0][0]).toStrictEqual(e)}),s("should be reactive",async()=>{var t,o;const e=d(a({id:{type:String,default:"test"}}));r((t=e.emitted("log"))==null?void 0:t[0][0]).toStrictEqual({id:"test"}),await e.setProps({id:"new-test"}),r((o=e.emitted("log"))==null?void 0:o[1][0]).toStrictEqual({id:"new-test"})}),s("should not forwarded not provided props",()=>{var t;const e=d(a({id:{type:String,default:"test"}}),{props:{extra:"not-related"},attrs:{class:"custom"}});r((t=e.emitted("log"))==null?void 0:t[0][0]).toStrictEqual({id:"test"})}),s("should not forwarded props that is not passed as parameters",async()=>{var o,p;const e=m({props:{id:{type:String,default:"test"},extra:{type:String,default:"not-related"}},emits:["log"],setup(n,{emit:i}){const f=g(n,"id"),l=c(f);return w(l,()=>i("log",l.value),{immediate:!0,deep:!0}),{forwarded:l}},template:"<div>{{ forwarded }}</div>"}),t=d(e);r((o=t.emitted("log"))==null?void 0:o[0][0]).toStrictEqual({id:"test"}),await t.setProps({id:"new-test"}),r((p=t.emitted("log"))==null?void 0:p[1][0]).toStrictEqual({id:"new-test"})}),u("with computedRef",async()=>{s("should be reactive",async()=>{var t,o;const e=d(a({id:{type:String,default:"test"}},{computed:!0}));r((t=e.emitted("log"))==null?void 0:t[0][0]).toStrictEqual({id:"test"}),await e.setProps({id:"new-test"}),r((o=e.emitted("log"))==null?void 0:o[1][0]).toStrictEqual({id:"new-test"})})})});

import{m as o}from"./vue-test-utils.esm-bundler.BNPP31t0.js";import{_ as r}from"./index.vue_vue_type_script_setup_true_lang.DWb0jxax.js";import{d as i,i as p,g as a}from"./vi.JYQecGiw.CsLlcVZs.js";import"./framework.igcgEEdr.js";import"./index.BQOwn3WU.js";import"./base.Dwgz6jSd.js";/* empty css              *//* empty css                       *//* empty css              */import"./icon.C3T6eoYR.js";import"./types.DNi1ojkw.js";import"./index.mDR6Kexr.js";import"./isSymbol.C7jn4vLP.js";import"./isObject.C3e4t58V.js";import"./index.vue_vue_type_script_setup_true_lang.CR4Q-k9N.js";import"./el-button.k3Ms4Xdh.js";import"./index.DBJOzW_o.js";import"./use-global-config.CrFx92Tt.js";import"./index.CRCbWsfX.js";import"./index.BjB1lFfg.js";import"./use-form-item.Daeosa58.js";import"./use-form-common-props.BIymRJo1.js";/* empty css                    */import"./el-popper.CZJRST1P.js";import"./index.BI4o4ewH.js";import"./arrayPush.CXZMwWBu.js";import"./index.Brw29sq5.js";import"./aria.9SHySdGF.js";import"./index.D353ODTN.js";import"./el-scrollbar.HZhNcw01.js";import"./error.Cq9Fpw4b.js";/* empty css                   */import"./Action.vue_vue_type_script_setup_true_lang.maaIIJkR.js";import"./index.CKIxfO9Z.js";import"./castArray.nshRf-Q-.js";import"./refs.n9wIXTtR.js";import"./index.RVi9Xofb.js";import"./event.BB_Ol6Sd.js";import"./commonjsHelpers.BosuxZz1.js";import"./vite-browser-external_commonjs-proxy.BC9WSf1a.js";i("pageHeader 组件",()=>{p("应该正确渲染",()=>{const t=o(r);a(t.find(".pro-page-header").exists()).toBe(!0)}),p("应该正确显示标题",()=>{const t=o(r,{props:{title:"页面标题"}});a(t.text()).toContain("页面标题")}),p("showBack 为 true 时应该显示返回按钮",()=>{const t=o(r,{props:{showBack:!0}});a(t.find(".pro-page-header__back").exists()).toBe(!0)}),p("showBack 为 false 时不应该显示返回按钮",()=>{const t=o(r,{props:{showBack:!1}});a(t.find(".pro-page-header__back").exists()).toBe(!1)}),p("点击返回按钮应该触发 cancel 事件",async()=>{const t=o(r,{props:{showBack:!0}});await t.vm.handleBack(),a(t.emitted("back")).toBeTruthy()}),p("应该正确渲染操作按钮",()=>{const t=[{text:"保存",type:"primary"},{text:"取消",type:"default"}],e=o(r,{props:{actions:t}});a(e.vm.$props.actions).toEqual(t)}),p("应该支持 title 插槽",()=>{const t=o(r,{slots:{title:'<span class="custom-title">自定义标题</span>'}});a(t.find(".custom-title").exists()).toBe(!0),a(t.find(".custom-title").text()).toBe("自定义标题")}),p("应该支持 actions 插槽",()=>{const t=o(r,{slots:{actions:'<div class="custom-actions">自定义操作</div>'}});a(t.find(".custom-actions").exists()).toBe(!0)}),p("应该正确显示标签页",()=>{const e=o(r,{props:{tabs:[{name:"tab1",title:"标签1"},{name:"tab2",title:"标签2"}]}});a(e.find(".pro-page-header__tabs").exists()).toBe(!0)}),p("没有 tabs 时不应该显示标签页区域",()=>{const t=o(r);a(t.find(".pro-page-header__tabs").exists()).toBe(!1)}),p("应该正确初始化 activeTab",()=>{const e=o(r,{props:{tabs:[{name:"tab1",title:"标签1"},{name:"tab2",title:"标签2"}]}});a(e.vm.activeTab).toBe("tab1")}),p("应该支持自定义 activeTab",()=>{const e=o(r,{props:{tabs:[{name:"tab1",title:"标签1"},{name:"tab2",title:"标签2"}],activeTab:"tab2"}});a(e.vm.activeTab).toBe("tab2")}),p("更新 activeTab 应该触发事件",async()=>{const e=o(r,{props:{tabs:[{name:"tab1",title:"标签1"},{name:"tab2",title:"标签2"}]}});await e.vm.handleUpdateActiveTab("tab2"),a(e.emitted("update:activeTab")).toBeTruthy(),a(e.emitted("update:activeTab")[0]).toEqual(["tab2"])}),p("activeTab prop 变化应该同步到内部状态",async()=>{const e=o(r,{props:{tabs:[{name:"tab1",title:"标签1"},{name:"tab2",title:"标签2"}],activeTab:"tab1"}});a(e.vm.activeTab).toBe("tab1"),await e.setProps({activeTab:"tab2"}),a(e.vm.activeTab).toBe("tab2")}),p("应该正确透传属性",()=>{const t=o(r,{attrs:{"data-testid":"page-header",class:"custom-class"}});a(t.attributes("data-testid")).toBe("page-header")}),p("应该包含顶部和操作区域",()=>{const t=o(r,{props:{title:"标题",actions:[{text:"操作"}]}});a(t.find(".pro-page-header__top").exists()).toBe(!0),a(t.find(".pro-page-header__title").exists()).toBe(!0),a(t.find(".pro-page-header__actions").exists()).toBe(!0)}),p("应该正确渲染多个标签页",()=>{const s=o(r,{props:{tabs:[{name:"tab1",title:"标签1"},{name:"tab2",title:"标签2"},{name:"tab3",title:"标签3"}]}}).findAll(".el-radio-button");a(s.length).toBeGreaterThanOrEqual(0)}),p("标题和返回按钮应该在同一行",()=>{const e=o(r,{props:{showBack:!0,title:"测试标题"}}).find(".pro-page-header__title");a(e.exists()).toBe(!0)})});

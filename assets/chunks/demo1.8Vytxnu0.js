import"./base.BdmgHdsK.js";import{E as a}from"./el-button.DE4WLPFu.js";import{E as V}from"./el-input.CeBPwPDU.js";import{useStreamData as w}from"./index.DaE1wKS7.js";import{d as B,p as C,c as i,o as s,j as m,G as n,a2 as b,k as e,ao as D,b as N,w as l,a as p,t as d,_ as I}from"./framework.C7SOrqHQ.js";import"./index.RKxNzSBd.js";import"./types.CHlFyNtD.js";import"./index.126dwtby.js";import"./isSymbol.C7jn4vLP.js";import"./isObject.C3e4t58V.js";import"./index.CR5w6Vik.js";import"./use-global-config.DIWKgMVJ.js";import"./index.hhTD2MZf.js";import"./index.CQ2QlRVi.js";import"./use-form-item.D8KyPK5_.js";import"./index.Dmme7433.js";import"./use-form-common-props.DDNg6-8l.js";import"./index.CacP4YLb.js";import"./icon.D1paMUUC.js";import"./index.r5W6hzzQ.js";import"./index.BxHDt7Km.js";import"./typescript.Bp3YSIOJ.js";import"./index.Bq2Ms4g2.js";import"./arrayPush.CXZMwWBu.js";import"./event.BB_Ol6Sd.js";import"./index.gDhSDFSO.js";import"./index.DaRhCE74.js";import"./error.Cq9Fpw4b.js";import"./fetch-event-source.DyJcgphX.js";/* empty css                   */import"./index.WZ0sw04i.js";import"./aria.9SHySdGF.js";import"./v4.C6aID195.js";const R={class:"stream-demo"},j={class:"controls"},F={class:"status"},G={class:"content"},M={key:0,class:"error"},T={key:1,class:"stream-content"},U=B({__name:"demo1",setup(q){const r=C(""),{status:_,content:f,error:c,isStreaming:u,start:v,stop:g,reset:k}=w({url:"/stream",formatResponse:o=>{var t;return((t=o==null?void 0:o.data)==null?void 0:t.result)||""},onStart:()=>{console.log("开始接收流数据")},onMessage:o=>{console.log("收到新消息:",o)},onFinish:()=>{console.log("接收完成")},onError:o=>{console.error("发生错误:",o)}});async function h(){try{await v(r.value)}catch(o){console.error("启动失败:",o)}}function y(){g()}function S(){r.value="",k()}return(o,t)=>{const x=D("loading");return s(),i("div",R,[m("div",j,[n(e(V),{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=E=>r.value=E),placeholder:"输入消息",style:{width:"200px"}},null,8,["modelValue"]),b((s(),N(e(a),{type:"primary",onClick:h},{default:l(()=>t[1]||(t[1]=[p(" 开始接收 ")])),_:1})),[[x,e(u)]]),n(e(a),{disabled:!e(u),onClick:y},{default:l(()=>t[2]||(t[2]=[p(" 停止 ")])),_:1},8,["disabled"]),n(e(a),{onClick:S},{default:l(()=>t[3]||(t[3]=[p(" 重置 ")])),_:1})]),m("div",F," 当前状态: "+d(e(_)),1),m("div",G,[e(c)?(s(),i("div",M," 错误: "+d(e(c).message),1)):(s(),i("div",T,d(e(f)||"等待接收数据..."),1))])])}}}),ht=I(U,[["__scopeId","data-v-08238b5a"]]);export{ht as default};

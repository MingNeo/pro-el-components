import{d as s}from"./dayjs.min.Ba62AOpW.js";import{i as g}from"./isObject.C3e4t58V.js";import"./commonjsHelpers.BosuxZz1.js";const f={select:"请选择",datePicker:"请选择",timePicker:"请选择",cascader:"请选择",treeSelect:"请选择",number:"请输入",textarea:"请输入"};function h(r){const e=[...r.rules||[]];return r.required&&e.push({required:!0,message:`${r.label||r.title||""}不能为空！`}),(!r.type||r.type==="input")&&r.maxlength&&e.push({max:r.maxlength,message:`${r.label}不能超过${r.maxlength}个字符！`}),e}function m(r,e){var o,t,p,c,u;if(["select","radio","checkbox","treeSelect"].includes(e.type||"input")){const n=e==null?void 0:e.options;return["checkbox","treeSelect"].includes(e.type||"input")||(o=e.fieldProps)!=null&&o.multiple?Array.isArray(r)&&((t=n==null?void 0:n.filter)==null?void 0:t.call(n,a=>r.includes(a.value)).map(a=>a.label).join(", "))||"":((c=(p=n==null?void 0:n.find)==null?void 0:p.call(n,a=>a.value===r))==null?void 0:c.label)||r||""}return e.type==="datePicker"?r?s(r).format(((u=e==null?void 0:e.fieldProps)==null?void 0:u.valueFormat)||"YYYY-MM-DD"):"":e.type==="rangePicker"?r?r.map(n=>{var a;return s(n).format(((a=e==null?void 0:e.fieldProps)==null?void 0:a.valueFormat)||"YYYY-MM-DD")}).join("至"):"":e.type==="cascader"?r?r.join("；"):"":r??""}function b(r,e){return e?[...e,[r]].flat():r}function i(r={},e={}){return{...e,...r}}function k(r=1,e){return e||{1:24,2:12,3:8,4:6,6:4,8:3}[r]||24}function Y(r,e,o){if(typeof r.fieldProps=="function")return r.fieldProps({value:e,item:r,formValues:o})||{};const t=r.fieldProps||{};if(r.type==="component"&&r.valueKey&&(t[r.valueKey]=e),r.type==="datePicker")switch(t.type){case"datetimerange":case"daterange":t.defaultTime=[new Date(2e3,1,1,0,0,0),new Date(2e3,1,1,23,59,59)];break}return t}function x(r,e){return f[r]?`${f[r]}${e||""}`:""}function D(r={},e){return e.forEach(o=>{Array.isArray(o.mappingProp)&&o.mappingProp.length&&o.mappingProp.forEach((t,p)=>{var n;let c=t,u=a=>a;g(t)&&(c=t==null?void 0:t.name,u=(t==null?void 0:t.format)||u),r[c]=u((n=r[o.prop])==null?void 0:n[p])})}),r}export{D as formatRangeData,Y as getFormFieldProps,k as getFormItemCol,b as getItemName,x as getPlaceholder,h as getRulesForColumn,i as getformItemProps,m as renderView};

/* empty css              */import{_ as V}from"./index.vue_vue_type_script_setup_true_lang.Cpo0L2KS.js";import"./base.Dwgz6jSd.js";import"./el-button.k3Ms4Xdh.js";/* empty css                    */import"./el-popper.CZJRST1P.js";import"./el-scrollbar.HZhNcw01.js";/* empty css              *//* empty css                   *//* empty css                          */import"./el-input.DQ30HcuH.js";import"./el-tag.BDcJ6G_i.js";import"./el-checkbox.B0vmRW9S.js";/* empty css                 *//* empty css                          *//* empty css                   *//* empty css              *//* empty css                     *//* empty css                *//* empty css              *//* empty css              *//* empty css                   *//* empty css              */import"./dayjs.min.Ba62AOpW.js";/* empty css                        */import"./el-tooltip.l0sNRNKZ.js";/* empty css                  */import"./el-select.D9tonctu.js";/* empty css                    *//* empty css               *//* empty css               *//* empty css              *//* empty css                       *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./el-table-column.BBssXNKa.js";/* empty css                                                      *//* empty css              *//* empty css              */import{d as y,h as a,q as D,b as P,o as C,a9 as S,B as k,w as M,r as _,a1 as B,ab as $,K as b,k as d}from"./framework.igcgEEdr.js";import{useRequest as x}from"./index.VGyafNOA.js";const Pe=y({name:"ProModalDetail",__name:"index",props:{title:{},width:{},modelValue:{type:Boolean},defaultValue:{},formData:{},viewMode:{type:Boolean},idKey:{},fields:{},column:{},mode:{},updateService:{type:Function},createService:{type:Function},propPrefix:{},formItemProps:{},footerActions:{}},emits:["update:modelValue","ok","update:formData","formChange","open"],setup(l,{emit:s}){const e=l,t=s,m=a(()=>{var o;return e.mode??(e.viewMode?"detail":((o=e.formData||e.defaultValue)==null?void 0:o[e.idKey||"id"])!==void 0?"edit":"create")}),f=a(()=>typeof e.title=="object"?e.title[m.value]:e.title),u=a(()=>e.viewMode?[]:e.footerActions);D(()=>e.modelValue,o=>o&&t("open"),{deep:!0});const{execute:i,isLoading:c}=x(async(o,p)=>{var r;return await((r=p?e.updateService:e.createService)==null?void 0:r(o))},{immediate:!1});function v(o){t("update:formData",o),t("formChange",o)}async function w(o){e.viewMode||await(i==null?void 0:i(o,m.value==="edit")),t("update:modelValue",!1),t("ok",o)}function h(){t("update:modelValue",!1)}return(o,p)=>(C(),P(d(V),b({"model-value":o.modelValue,"form-data":e.formData,"default-value":e.defaultValue,width:o.width,title:f.value,fields:e.fields,"view-mode":o.viewMode,column:e.column,"prop-prefix":e.propPrefix,"form-item-props":e.formItemProps,"confirm-loading":d(c)},o.$attrs,{"footer-actions":u.value,"onUpdate:formData":v,onOk:w,onCancel:h}),S({_:2},[k(o.$slots,(r,n)=>({name:n,fn:M(g=>[_(o.$slots,n,B($(g)))])}))]),1040,["model-value","form-data","default-value","width","title","fields","view-mode","column","prop-prefix","form-item-props","confirm-loading","footer-actions"]))}});export{Pe as _};

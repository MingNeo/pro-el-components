import{d as y,$ as k,p as C,h as d,c as n,o as l,e as _,F as L,r as c,a as T,t as i}from"./framework.C7SOrqHQ.js";const E={class:"pro-expand-collapse-text"},S={key:0},$={key:1},B={key:1},N=y({name:"ProExpandCollapseText",__name:"index",props:{text:{default:""},maxLength:{default:100},expandText:{default:"展开"},collapseText:{default:"收起"},defaultExpanded:{type:Boolean,default:!1}},emits:["expand","collapse"],setup(v,{emit:f}){const o=v,x=f,s=k(),a=C(o.defaultExpanded),t=d(()=>!!s.default),r=d(()=>t.value?"":o.text),m=d(()=>{var u;if(!t.value||!((u=s.default)!=null&&u.call(s)))return 0;const e=s.default()[0];return e&&typeof e.children=="string"?e.children.length:0}),p=d(()=>t.value&&m.value>o.maxLength||!t.value&&r.value.length>o.maxLength),h=d(()=>!p.value||a.value?t.value?void 0:r.value:t.value?void 0:`${r.value.slice(0,o.maxLength)}...`);function g(){a.value=!a.value,x(a.value?"expand":"collapse")}return(e,u)=>(l(),n("div",E,[t.value?(l(),n(L,{key:0},[!p.value||a.value?(l(),n("div",S,[c(e.$slots,"default")])):(l(),n("div",$,[c(e.$slots,"default",{maxLength:e.maxLength}),u[0]||(u[0]=T("... "))]))],64)):(l(),n("span",B,i(h.value),1)),p.value?(l(),n("span",{key:2,class:"expand-collapse-button",onClick:g},i(a.value?e.collapseText:e.expandText),1)):_("",!0)]))}});export{N as _};

import{m as o}from"./vue-test-utils.esm-bundler.BNPP31t0.js";import{_ as p}from"./index.vue_vue_type_script_setup_true_lang.MFMzH7-f.js";import{d as c,i as s,g as a,v as i}from"./vi.JYQecGiw.CsLlcVZs.js";import{P as n}from"./framework.igcgEEdr.js";/* empty css              */import"./commonjsHelpers.BosuxZz1.js";import"./vite-browser-external_commonjs-proxy.BC9WSf1a.js";c("proTextSummary 组件",()=>{s("应该正确渲染文本",()=>{const t=o(p,{props:{text:"这是一段测试文本"}});a(t.text()).toContain("这是一段测试文本")}),s("短文本应该完整显示，不显示展开按钮",()=>{const t="短文本",e=o(p,{props:{text:t,maxLength:100}});a(e.text()).toBe(t),a(e.find(".expand-collapse-button").exists()).toBe(!1)}),s("长文本应该被截断并显示展开按钮",async()=>{const t="这是一段很长的测试文本".repeat(10),e=o(p,{props:{text:t,maxLength:50}});await n(),a(e.text()).toContain("..."),a(e.find(".expand-collapse-button").exists()).toBe(!0)}),s("点击展开按钮应该显示完整文本",async()=>{const t="这是一段很长的测试文本".repeat(10),e=o(p,{props:{text:t,maxLength:50}});await n();const x=e.find(".expand-collapse-button");a(x.text()).toBe("展开"),await x.trigger("click"),await n(),a(e.text()).toContain(t),a(x.text()).toBe("收起")}),s("点击收起按钮应该截断文本",async()=>{const t="这是一段很长的测试文本".repeat(10),e=o(p,{props:{text:t,maxLength:50}});await n();const x=e.find(".expand-collapse-button");await x.trigger("click"),await n(),a(e.text()).toContain(t),await x.trigger("click"),await n(),a(e.text()).toContain("...")}),s("应该触发展开事件",async()=>{const t=i.fn(),e="这是一段很长的测试文本".repeat(10),x=o(p,{props:{text:e,maxLength:50,onExpand:t}});await n(),await x.find(".expand-collapse-button").trigger("click"),a(t).toHaveBeenCalled()}),s("应该触发收起事件",async()=>{const t=i.fn(),e="这是一段很长的测试文本".repeat(10),x=o(p,{props:{text:e,maxLength:50,onCollapse:t}});await n();const r=x.find(".expand-collapse-button");await r.trigger("click"),await n(),await r.trigger("click"),await n(),a(t).toHaveBeenCalled()}),s("应该支持默认展开",async()=>{const t="这是一段很长的测试文本".repeat(10),e=o(p,{props:{text:t,maxLength:50,defaultExpanded:!0}});await n(),a(e.text()).toContain(t),a(e.find(".expand-collapse-button").text()).toBe("收起")}),s("应该支持自定义最大长度",async()=>{const e=o(p,{props:{text:"0123456789",maxLength:5}});await n(),a(e.text()).toContain("01234..."),a(e.text()).toContain("展开")}),s("应该支持自定义展开标签",async()=>{const t="这是一段很长的测试文本".repeat(10),e=o(p,{props:{text:t,maxLength:50},slots:{expandLabel:"查看更多"}});await n(),a(e.find(".expand-collapse-button").text()).toBe("查看更多")}),s("应该支持自定义收起标签",async()=>{const t="这是一段很长的测试文本".repeat(10),e=o(p,{props:{text:t,maxLength:50,defaultExpanded:!0},slots:{collapseLabel:"收起内容"}});await n(),a(e.find(".expand-collapse-button").text()).toBe("收起内容")}),s("应该支持使用插槽自定义内容",()=>{const t=o(p,{props:{maxLength:10},slots:{default:"插槽内容文本"}});a(t.text()).toContain("插槽内容")}),s("插槽内容超过最大长度时应该显示展开按钮",async()=>{const t=o(p,{props:{maxLength:5},slots:{default:"这是一段很长的插槽内容"}});await n(),a(t.find(".expand-collapse-button").exists()).toBe(!0)}),s("应该正确处理空文本",()=>{const t=o(p,{props:{text:"",maxLength:100}});a(t.find(".expand-collapse-button").exists()).toBe(!1)}),s("文本长度正好等于最大长度时不应截断",()=>{const t="0123456789",e=o(p,{props:{text:t,maxLength:10}});a(e.text()).toBe(t),a(e.find(".expand-collapse-button").exists()).toBe(!1)}),s("文本长度超过最大长度时应截断",async()=>{const e=o(p,{props:{text:"0123456789A",maxLength:10}});await n(),a(e.text()).toContain("..."),a(e.find(".expand-collapse-button").exists()).toBe(!0)}),s("应该正确切换展开/收起状态",async()=>{const t="这是一段很长的测试文本".repeat(10),e=o(p,{props:{text:t,maxLength:50}});await n();const x=e.find(".expand-collapse-button");a(e.vm.expanded).toBe(!1),await x.trigger("click"),await n(),a(e.vm.expanded).toBe(!0),await x.trigger("click"),await n(),a(e.vm.expanded).toBe(!1)}),s("应该响应文本属性的更新",async()=>{const t=o(p,{props:{text:"短文本",maxLength:10}});a(t.find(".expand-collapse-button").exists()).toBe(!1),await t.setProps({text:"这是一段很长的测试文本".repeat(10)}),await n(),a(t.find(".expand-collapse-button").exists()).toBe(!0)}),s("应该响应最大长度属性的更新",async()=>{const e=o(p,{props:{text:"这是一段测试文本",maxLength:100}});a(e.find(".expand-collapse-button").exists()).toBe(!1),await e.setProps({maxLength:5}),await n(),a(e.find(".expand-collapse-button").exists()).toBe(!0)})});
